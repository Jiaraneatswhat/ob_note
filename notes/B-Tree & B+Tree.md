# 1. B-Tree
- 2-3 树是一种特殊的 B-树，它满足：
	- 2-节点有 {0, 2} 个子节点
	- 3-节点有 {0, 3} 个子节点
	- 所有叶子节点都在同一层
## 1.1 B-树的性质
- B 树非叶子节点的结构

![[b_tree_node.svg]]
- $n$: key 的个数
- $p$：指针
- $k$：key
- $p_0$ 至 $p_n$ 从小到大排列用于划分区间
- $k$ 的个数比 $p$ 的个数少一个

- $m$ 阶 B -树的性质
	- 每个节点最多有 $m$ 个子节点，至多含有 $m-1$ 个`key`
	- 除根节点外，每个非叶子节点至少有 $ceil(\frac{m}{2})$ 个子节点
	- 根节点有 0 或者至少 2 个子节点
	- 叶子节点都在同一层
- B-树将文件以 <font color='red'>Page</font> 为单位进行存储，每个 Page 作为 B-树的一个节点

![[b_tree_page.svg]]

B-树每个节点都存放着索引和数据，搜索可能在非叶子节点结束，最好的情况是 $O(1)$
## 1.2 B-树的删除
### 1.2.1 要删除的键在叶子节点中
#### 1.2.1.1 不超过子结点 key 下限

![[b_tree_del1.svg]]

- 此时删除 31 不会影响到